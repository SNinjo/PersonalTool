"use strict";(self.webpackChunkSNinjo_Tool=self.webpackChunkSNinjo_Tool||[]).push([[97],{8190:function(e,t,a){a.d(t,{Z:function(){return r}});var c=a(7294),n=a(3252),i="index-module--show--38579",s="index-module--transparent--7ad46";var r=e=>{let{width:t,height:a,onChange:r}=e;const o=(0,c.useRef)(null),d=(0,c.useRef)(null),{0:l,1:f}=(0,c.useState)(!1),{0:b,1:w}=(0,c.useState)(!1);(0,c.useEffect)((()=>{b&&setTimeout((()=>w(!1)),1500)}),[b]);const{0:g,1:p}=(0,c.useState)(),{0:u,1:m}=(0,c.useState)("");return(0,c.useEffect)((()=>{(async()=>{g&&m(await(0,n.$k)(g))})()}),[g]),c.createElement("div",{className:"index-module--div--cd131 "+(l?"index-module--dragging--09847":"")+" "+(b?"index-module--copying--063ad":""),style:{width:t,height:a},tabIndex:0,onDragEnter:()=>f(!0),onDragLeave:()=>f(!1),onDragOver:e=>e.preventDefault(),onDrop:e=>{e.preventDefault(),f(!1),p(e.dataTransfer.files[0])},onKeyDown:e=>{e.ctrlKey&&"c"===e.key&&g&&((0,n.cy)(g),w(!0))},onPaste:e=>{const t=e.clipboardData.getData("Text");""===t?p(e.clipboardData.files[0]):(0,n.pZ)(t)?p((0,n.hn)(t)):alert("Failed to parse data in the clipboard...")}},c.createElement("input",{ref:o,type:"file",accept:"image/*",onChange:e=>{const t=e.target.files;t&&0!==t.length&&p(t[0])}}),c.createElement("label",{className:u?"":i},c.createElement("span",null,"> Paste or drop image here <")),c.createElement("img",{ref:d,className:(u?i:"")+" "+(l?s:""),src:u,onLoad:()=>{g&&r&&r({type:g.type,width:d.current.naturalWidth,height:d.current.naturalHeight,dataUrl:u,file:g})}}),c.createElement("button",{className:u?s:"",onClick:()=>o.current.click()},"Upload"))}},9313:function(e,t,a){a.r(t),a.d(t,{Head:function(){return m},default:function(){return u}});var c=a(7294),n=a(7830),i=a(8032),s=a(2852);function r(e,t,a){void 0===a&&(a="Arial"),""===e&&(e="T h j g 0");const c=document.createElement("div");c.innerText=e,c.setAttribute("style","\n\t\tposition: fixed;\n\t\tright: -10px;\n\t\ttop: 0;\n\n\t\tdisplay: block;\n\t\tfont-size: "+t+"px;\n\t\tfont-family: "+a+";\n\t"),document.body.append(c);const{height:n}=c.getBoundingClientRect();return c.remove(),n}var o=a(3252),d=a(8190),l=a(6672),f=a(8579),b=a(2349),w="index-module--image--ac411",g="index-module--picker--fde63",p="index-module--selected--15500";var u=()=>{const{0:e,1:t}=(0,c.useState)(new s.Size(0,0));(0,c.useEffect)((()=>{"undefined"!=typeof window&&t(new s.Size(window.innerWidth,window.innerHeight));const e=()=>t(new s.Size(window.innerWidth,window.innerHeight));return window.addEventListener("resize",(()=>e)),()=>window.removeEventListener("resize",(()=>e))}),[]);const b=(0,c.useRef)(null),u=(0,c.useRef)(null),m=(0,c.useRef)(null),{0:h,1:x}=(0,c.useState)(""),{0:y,1:S}=(0,c.useState)("");(0,c.useEffect)((()=>{if(y){const e=new Image;e.setAttribute("src",y),e.addEventListener("load",(()=>{const t=m.current;t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0)})),m.current.getContext("2d").drawImage(e,0,0),u.current.focus()}}),[y]);const{0:v,1:E}=(0,c.useState)(!1),{0:k,1:N}=(0,c.useState)(new s.Position),{0:C,1:z}=(0,c.useState)(new s.Position),{0:D,1:P}=(0,c.useState)(new s.Size),{0:_,1:T}=(0,c.useState)(new s.Position);(0,c.useEffect)((()=>{b.current&&(b.current.scrollLeft=_.x,b.current.scrollTop=_.y)}),[_]);const{0:I,1:R}=(0,c.useState)(!1),{0:O,1:J}=(0,c.useState)(new s.Position);(0,c.useEffect)((()=>{if(v&&I){const e=O.add(C.add(k.multiply(-1)).multiply(-1));T(e.getAbsoluteValue())}}),[k,C,v,I]);const{0:L,1:A}=(0,c.useState)("cursor"),{0:M,1:U}=(0,c.useState)(!1),{0:F,1:K}=(0,c.useState)(10),{0:W,1:Z}=(0,c.useState)("#FF0000"),{0:H,1:X}=(0,c.useState)(!1),{0:Y,1:j}=(0,c.useState)(!1),B=(0,c.useRef)(null),{0:V,1:$}=(0,c.useState)(""),{0:q,1:G}=(0,c.useState)(0),{0:Q,1:ee}=(0,c.useState)(new s.Position),{0:te,1:ae}=(0,c.useState)(new s.Size);(0,c.useEffect)((()=>{G(0),ee(new s.Position),ae(new s.Size),""!==L&&R(!1)}),[L]),(0,c.useEffect)((()=>{if(m.current&&!M){const{left:e,top:t}=m.current.getBoundingClientRect(),a=m.current.getContext("2d");switch(L){case"line":a.strokeStyle=W,a.lineWidth=F,a.moveTo(k.x-e,k.y-t),a.lineTo(C.x-e,C.y-t),a.stroke();break;case"rectangle":a.strokeStyle=W,a.lineWidth=F,a.strokeRect(Q.x-e+F/2,Q.y-t+F/2,te.width-F,te.height-F);break;case"text":a.fillStyle=W,a.font=F+"px Arial",a.fillText(V,Q.x-e,Q.y-t),$(""),B.current.innerText=""}S(m.current.toDataURL((0,o.cL)(y))),m.current.focus()}}),[M]),(0,c.useEffect)((()=>{var e;switch(L){case"line":const t=C.getCenter(k),a=C.getDistance(k);G(null!==(e=C.getAngle(k))&&void 0!==e?e:0),ee(t.add(new s.Position(a/2,F/2).multiply(-1))),ae(new s.Size(a,F));break;case"rectangle":ee(new s.Position(k.x<C.x?k.x:C.x,k.y<C.y?k.y:C.y)),ae(new s.Size(Math.abs(k.x-C.x),Math.abs(k.y-C.y)))}}),[k,C]);const{0:ce,1:ne}=(0,c.useState)("auto");(0,c.useEffect)((()=>{switch(I?"":L){case"cursor":case"cursor":ne("auto");break;case"":ne(v?"grabbing":"grab");break;case"rectangle":case"line":ne("cell");break;case"text":ne("text")}}),[v,M,I,L]);const{0:ie,1:se}=(0,c.useState)(!1);return(0,c.useEffect)((()=>{ie&&setTimeout((()=>se(!1)),1500)}),[ie]),c.createElement(f.Z,null,c.createElement("div",{className:"index-module--div--e2983"},c.createElement("div",{ref:b,className:"index-module--screen--cd222 "+(y?"index-module--isEditing--05b63":"")+" "+(ie?"index-module--isCopying--424f0":"")},y?c.createElement(c.Fragment,null,c.createElement("div",{ref:u,tabIndex:0,style:{width:2*e.width+D.width,height:2*e.width+D.height,cursor:ce},className:"index-module--editArea--3d69b",onKeyDown:e=>{switch(e.key){case"c":e.ctrlKey&&((0,o.cy)((0,o.hn)(y,"image")),se(!0));break;case"Control":R(!0)}},onKeyUp:e=>{"Control"===e.key&&R(!1)},onMouseDown:e=>{E(!0),N(new s.Position(e.clientX,e.clientY)),z(new s.Position(e.clientX,e.clientY)),I?J(_):M?U(!1):("text"===L&&(e.preventDefault(),e.stopPropagation()),U(!0),ee(new s.Position(e.clientX,e.clientY)),ae(new s.Size))},onMouseMove:e=>{(I||M)&&z(new s.Position(e.clientX,e.clientY))},onMouseUp:()=>{E(!1),"text"===L?B.current.focus():U(!1)}},c.createElement("canvas",{ref:m,style:{left:e.width,top:e.height}}),c.createElement("div",{style:{left:Q.x+.5,top:Q.y+.5,width:te.width,height:te.height,borderWidth:F,borderColor:W,display:M&&"rectangle"===L?"block":"none",zIndex:M&&"rectangle"===L?1:0},className:"index-module--previewRectangle--10e9d"}),c.createElement("div",{style:{left:Q.x+.5,top:Q.y+.5,width:te.width,height:te.height,backgroundColor:W,transform:"rotate("+q+"deg)",display:M&&"line"===L?"block":"none",zIndex:M&&"line"===L?1:0},className:"index-module--previewLine--61209"}),c.createElement("div",{ref:B,style:{left:Q.x+.5,top:Q.y-r(V,F)+F/4.5+1.5,color:W,fontSize:F,display:M&&"text"===L?"block":"none",zIndex:M&&"text"===L?1:0},className:"index-module--previewText--3ddc8",contentEditable:!0,onBlur:()=>U(!1),onKeyDown:e=>{"Enter"===e.key&&U(!1)},onInput:e=>{const t=e.target;$(t.innerText)}}),c.createElement("div",{className:"index-module--toolbar--c2e90",onMouseDown:e=>e.stopPropagation()},c.createElement("div",null,c.createElement("button",{className:"cursor"===L?p:"",onClick:()=>A("cursor")},c.createElement(i.S,{className:w,src:"../../images/cursor.png",alt:"cursor",title:"cursor",loading:"eager",__imageData:a(3788)})),c.createElement("button",{className:"rectangle"===L?p:"",onClick:()=>A("rectangle")},c.createElement(i.S,{className:w,src:"../../images/rectangle.png",alt:"draw rectangle",title:"draw rectangle",loading:"eager",__imageData:a(3879)})),c.createElement("button",{className:"line"===L?p:"",onClick:()=>A("line")},c.createElement(i.S,{className:w,src:"../../images/line.png",alt:"draw line",title:"draw line",loading:"eager",__imageData:a(1785)})),c.createElement("button",{className:"text"===L?p:"",onClick:()=>A("text")},c.createElement(i.S,{className:w,src:"../../images/text.png",alt:"type text",title:"type text",loading:"eager",__imageData:a(7803)})),c.createElement("button",{className:I?p:"",onClick:()=>{A(""),R(!0)}},c.createElement(i.S,{className:w,src:"../../images/moving.png",alt:"move screen",title:"move screen",loading:"eager",__imageData:a(3843)}))),c.createElement("div",null,H?c.createElement(l.Z,{className:g,text:"width",number:F,onChange:e=>K(e)}):c.createElement(c.Fragment,null),c.createElement("button",{className:H?p:"",onClick:()=>X((e=>!e))},c.createElement(i.S,{className:w,src:"../../images/width.png",alt:"pick width",title:"pick width",loading:"eager",__imageData:a(7964)})),Y?c.createElement(n.AI,{className:g,color:W,onChange:e=>{Z(e.hex)}}):c.createElement(c.Fragment,null),c.createElement("button",{className:Y?p:"",onClick:()=>j((e=>!e))},c.createElement(i.S,{className:w,src:"../../images/colorPalette.png",alt:"pick color",title:"pick color",loading:"eager",__imageData:a(3074)}))),c.createElement("div",null,c.createElement("button",{onClick:()=>(0,o.cy)((0,o.hn)(y,"image"))},c.createElement(i.S,{className:w,src:"../../images/copy.png",alt:"copy image",title:"copy image",loading:"eager",__imageData:a(8390)})),c.createElement("button",{onClick:()=>S(h)},c.createElement(i.S,{className:w,src:"../../images/ashcan.png",alt:"clear image",title:"clear image",loading:"eager",__imageData:a(7451)})))))):c.createElement(d.Z,{onChange:t=>{x(t.dataUrl),S(t.dataUrl),P(new s.Size(t.width,t.height)),T(new s.Position(e.width-50,e.height-50))}}))))};const m=e=>{let{location:t}=e;return c.createElement(b.Z,{title:"Image Editor",pathname:t.pathname})}},7451:function(e){e.exports=JSON.parse('{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/86e74ad235b280104379fbae16feef84/e9fba/ashcan.png","srcSet":"/static/86e74ad235b280104379fbae16feef84/86ee2/ashcan.png 13w,\\n/static/86e74ad235b280104379fbae16feef84/88208/ashcan.png 25w,\\n/static/86e74ad235b280104379fbae16feef84/e9fba/ashcan.png 50w","sizes":"(min-width: 50px) 50px, 100vw"},"sources":[{"srcSet":"/static/86e74ad235b280104379fbae16feef84/68795/ashcan.webp 13w,\\n/static/86e74ad235b280104379fbae16feef84/2fa99/ashcan.webp 25w,\\n/static/86e74ad235b280104379fbae16feef84/dbc4a/ashcan.webp 50w","type":"image/webp","sizes":"(min-width: 50px) 50px, 100vw"}]},"width":50,"height":50}')},1785:function(e){e.exports=JSON.parse('{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/0220a4a48628f5aa54071a0315ec5646/ccc41/line.png","srcSet":"/static/0220a4a48628f5aa54071a0315ec5646/bf8e1/line.png 128w,\\n/static/0220a4a48628f5aa54071a0315ec5646/acb7c/line.png 256w,\\n/static/0220a4a48628f5aa54071a0315ec5646/ccc41/line.png 512w","sizes":"(min-width: 512px) 512px, 100vw"},"sources":[{"srcSet":"/static/0220a4a48628f5aa54071a0315ec5646/6766a/line.webp 128w,\\n/static/0220a4a48628f5aa54071a0315ec5646/22bfc/line.webp 256w,\\n/static/0220a4a48628f5aa54071a0315ec5646/d689f/line.webp 512w","type":"image/webp","sizes":"(min-width: 512px) 512px, 100vw"}]},"width":512,"height":512}')},8390:function(e){e.exports=JSON.parse('{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/e4b68e0a62fa15da692250d0d097a3d6/e9fba/copy.png","srcSet":"/static/e4b68e0a62fa15da692250d0d097a3d6/86ee2/copy.png 13w,\\n/static/e4b68e0a62fa15da692250d0d097a3d6/88208/copy.png 25w,\\n/static/e4b68e0a62fa15da692250d0d097a3d6/e9fba/copy.png 50w","sizes":"(min-width: 50px) 50px, 100vw"},"sources":[{"srcSet":"/static/e4b68e0a62fa15da692250d0d097a3d6/68795/copy.webp 13w,\\n/static/e4b68e0a62fa15da692250d0d097a3d6/2fa99/copy.webp 25w,\\n/static/e4b68e0a62fa15da692250d0d097a3d6/dbc4a/copy.webp 50w","type":"image/webp","sizes":"(min-width: 50px) 50px, 100vw"}]},"width":50,"height":50}')},3879:function(e){e.exports=JSON.parse('{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/9ad1e863d9d35bb39d370c04bf7ac8de/ccc41/rectangle.png","srcSet":"/static/9ad1e863d9d35bb39d370c04bf7ac8de/bf8e1/rectangle.png 128w,\\n/static/9ad1e863d9d35bb39d370c04bf7ac8de/acb7c/rectangle.png 256w,\\n/static/9ad1e863d9d35bb39d370c04bf7ac8de/ccc41/rectangle.png 512w","sizes":"(min-width: 512px) 512px, 100vw"},"sources":[{"srcSet":"/static/9ad1e863d9d35bb39d370c04bf7ac8de/6766a/rectangle.webp 128w,\\n/static/9ad1e863d9d35bb39d370c04bf7ac8de/22bfc/rectangle.webp 256w,\\n/static/9ad1e863d9d35bb39d370c04bf7ac8de/d689f/rectangle.webp 512w","type":"image/webp","sizes":"(min-width: 512px) 512px, 100vw"}]},"width":512,"height":512}')},7803:function(e){e.exports=JSON.parse('{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/44f928f8173b7998c5289959fc76ab43/ccc41/text.png","srcSet":"/static/44f928f8173b7998c5289959fc76ab43/bf8e1/text.png 128w,\\n/static/44f928f8173b7998c5289959fc76ab43/acb7c/text.png 256w,\\n/static/44f928f8173b7998c5289959fc76ab43/ccc41/text.png 512w","sizes":"(min-width: 512px) 512px, 100vw"},"sources":[{"srcSet":"/static/44f928f8173b7998c5289959fc76ab43/6766a/text.webp 128w,\\n/static/44f928f8173b7998c5289959fc76ab43/22bfc/text.webp 256w,\\n/static/44f928f8173b7998c5289959fc76ab43/d689f/text.webp 512w","type":"image/webp","sizes":"(min-width: 512px) 512px, 100vw"}]},"width":512,"height":512}')},3843:function(e){e.exports=JSON.parse('{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/45f922370e5e49c72418a6eabe1be2f9/ccc41/moving.png","srcSet":"/static/45f922370e5e49c72418a6eabe1be2f9/bf8e1/moving.png 128w,\\n/static/45f922370e5e49c72418a6eabe1be2f9/acb7c/moving.png 256w,\\n/static/45f922370e5e49c72418a6eabe1be2f9/ccc41/moving.png 512w","sizes":"(min-width: 512px) 512px, 100vw"},"sources":[{"srcSet":"/static/45f922370e5e49c72418a6eabe1be2f9/6766a/moving.webp 128w,\\n/static/45f922370e5e49c72418a6eabe1be2f9/22bfc/moving.webp 256w,\\n/static/45f922370e5e49c72418a6eabe1be2f9/d689f/moving.webp 512w","type":"image/webp","sizes":"(min-width: 512px) 512px, 100vw"}]},"width":512,"height":512}')},3788:function(e){e.exports=JSON.parse('{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/64a693a73154457faadd4e67bcc16686/ccc41/cursor.png","srcSet":"/static/64a693a73154457faadd4e67bcc16686/bf8e1/cursor.png 128w,\\n/static/64a693a73154457faadd4e67bcc16686/acb7c/cursor.png 256w,\\n/static/64a693a73154457faadd4e67bcc16686/ccc41/cursor.png 512w","sizes":"(min-width: 512px) 512px, 100vw"},"sources":[{"srcSet":"/static/64a693a73154457faadd4e67bcc16686/6766a/cursor.webp 128w,\\n/static/64a693a73154457faadd4e67bcc16686/22bfc/cursor.webp 256w,\\n/static/64a693a73154457faadd4e67bcc16686/d689f/cursor.webp 512w","type":"image/webp","sizes":"(min-width: 512px) 512px, 100vw"}]},"width":512,"height":512}')},3074:function(e){e.exports=JSON.parse('{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/a3af3baf70147bd28d32839d81c5835a/ccc41/colorPalette.png","srcSet":"/static/a3af3baf70147bd28d32839d81c5835a/bf8e1/colorPalette.png 128w,\\n/static/a3af3baf70147bd28d32839d81c5835a/acb7c/colorPalette.png 256w,\\n/static/a3af3baf70147bd28d32839d81c5835a/ccc41/colorPalette.png 512w","sizes":"(min-width: 512px) 512px, 100vw"},"sources":[{"srcSet":"/static/a3af3baf70147bd28d32839d81c5835a/6766a/colorPalette.webp 128w,\\n/static/a3af3baf70147bd28d32839d81c5835a/22bfc/colorPalette.webp 256w,\\n/static/a3af3baf70147bd28d32839d81c5835a/d689f/colorPalette.webp 512w","type":"image/webp","sizes":"(min-width: 512px) 512px, 100vw"}]},"width":512,"height":512}')},7964:function(e){e.exports=JSON.parse('{"layout":"constrained","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/adbf2d342a05d96368500ce8e6ef64e6/ccc41/width.png","srcSet":"/static/adbf2d342a05d96368500ce8e6ef64e6/bf8e1/width.png 128w,\\n/static/adbf2d342a05d96368500ce8e6ef64e6/acb7c/width.png 256w,\\n/static/adbf2d342a05d96368500ce8e6ef64e6/ccc41/width.png 512w","sizes":"(min-width: 512px) 512px, 100vw"},"sources":[{"srcSet":"/static/adbf2d342a05d96368500ce8e6ef64e6/6766a/width.webp 128w,\\n/static/adbf2d342a05d96368500ce8e6ef64e6/22bfc/width.webp 256w,\\n/static/adbf2d342a05d96368500ce8e6ef64e6/d689f/width.webp 512w","type":"image/webp","sizes":"(min-width: 512px) 512px, 100vw"}]},"width":512,"height":512}')}}]);
//# sourceMappingURL=component---src-pages-image-editor-index-tsx-792539fdba301fb7ac85.js.map