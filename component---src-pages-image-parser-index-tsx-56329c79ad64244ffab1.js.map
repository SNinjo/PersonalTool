{"version":3,"file":"component---src-pages-image-parser-index-tsx-56329c79ad64244ffab1.js","mappings":"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","sources":["webpack://SNinjo Tool/./src/components/ImageLoader/index.module.scss","webpack://SNinjo Tool/./src/components/ImageLoader/index.tsx","webpack://SNinjo Tool/./src/pages/ImageParser/index.tsx","webpack://SNinjo Tool/./src/pages/ImageParser/index.module.scss"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport var div = \"index-module--div--cd131\";\nexport var dragging = \"index-module--dragging--09847\";\nexport var show = \"index-module--show--38579\";\nexport var transparent = \"index-module--transparent--7ad46\";","import React, { FC, useEffect, useRef, useState } from 'react';\r\n\r\nimport { copyFile, getDataUrl, getFile, isDataUrl } from '../../tools/Image';\r\nimport * as style from './index.module.scss';\r\n\r\n\r\nexport interface Image {\r\n\ttype: string,\r\n\twidth: number,\r\n\theight: number,\r\n\tdataUrl: string,\r\n\tfile: File,\r\n}\r\ntype DataProps = {\r\n\twidth?: string,\r\n\theight?: string,\r\n\r\n\tonChange?: (image: Image) => void,\r\n}\r\n\r\nconst ImageLoader: FC<DataProps> = ({ width, height, onChange }) => {\r\n\tconst refInput = useRef<HTMLInputElement>(null);\r\n\tconst refImage = useRef<HTMLImageElement>(null);\r\n\tconst [isDragging, setDraggingState] = useState(false);\r\n\r\n\t\r\n\tconst [file, setFile] = useState<File>();\r\n\tconst [source, setSource] = useState('');\r\n\r\n\tconst readFile = async () => {\r\n\t\tif (file) {\r\n\t\t \tsetSource(await getDataUrl(file));\r\n\t\t}\r\n\t}\r\n\tuseEffect(() => {\r\n\t\treadFile();\r\n\t}, [file]);\r\n\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`${style.div} ${isDragging? style.dragging : ''}`}\r\n\t\t\tstyle={{\r\n\t\t\t\twidth,\r\n\t\t\t\theight,\r\n\t\t\t}}\r\n\t\t\ttabIndex={0}\r\n\r\n\r\n\t\t\tonDragEnter={() => setDraggingState(true)}\r\n\t\t\tonDragLeave={() => setDraggingState(false)}\r\n\t\t\tonDragOver={(event) => event.preventDefault()}\r\n\t\t\tonDrop={(event) => {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tsetDraggingState(false);\r\n\t\t\t\tsetFile(event.dataTransfer.files[0]);\r\n\t\t\t}}\r\n\r\n\t\t\tonKeyDown={(event) => {\r\n\t\t\t\tif (event.ctrlKey && event.key === 'c' && file) {\r\n\t\t\t\t\tcopyFile(file);\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tonPaste={(event) => {\r\n\t\t\t\tconst text = event.clipboardData.getData('Text');\r\n\t\t\t\tif (text === '') {\r\n\t\t\t\t\tsetFile(event.clipboardData.files[0]);\r\n\t\t\t\t} else if (isDataUrl(text)) {\r\n\t\t\t\t\tsetFile(getFile(text));\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert('Failed to parse data in the clipboard...');\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<input\r\n\t\t\t\tref={refInput}\r\n\t\t\t\ttype='file'\r\n\t\t\t\taccept=\"image/*\"\r\n\r\n\t\t\t\tonChange={(event) => {\r\n\t\t\t\t\tconst fileList = event.target.files;\r\n\t\t\t\t\tif (fileList && (fileList.length !== 0)) {\r\n\t\t\t\t\t\tsetFile(fileList[0]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t\t<label\r\n\t\t\t\tclassName={source? '' : style.show}\r\n\t\t\t>\r\n\t\t\t\t<span>&gt; Paste or drop image here &lt;</span>\r\n\t\t\t</label>\r\n\r\n\t\t\t<img\r\n\t\t\t\tref={refImage}\r\n\t\t\t\tclassName={`${source? style.show : ''} ${isDragging? style.transparent : ''}`}\r\n\t\t\t\tsrc={source}\r\n\r\n\t\t\t\tonLoad={() => {\r\n\t\t\t\t\tif (file && onChange) {\r\n\t\t\t\t\t\tonChange({\r\n\t\t\t\t\t\t\ttype: file.type,\r\n\t\t\t\t\t\t\twidth: refImage.current!.naturalWidth,\r\n\t\t\t\t\t\t\theight: refImage.current!.naturalHeight,\r\n\t\t\t\t\t\t\tdataUrl: source,\r\n\t\t\t\t\t\t\tfile,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\r\n\t\t\t<button\r\n\t\t\t\tclassName={source? style.transparent : ''}\r\n\r\n\t\t\t\tonClick={() => refInput.current!.click()}\r\n\t\t\t>\r\n\t\t\t\tUpload\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t)\r\n}\r\nexport default ImageLoader;","import React, { FC, useState } from 'react';\r\nimport { PageProps } from 'gatsby';\r\n\r\nimport { convertTypeOfImageFile, downloadFile } from '../../tools/Image';\r\nimport ImageLoader, { Image } from '../../components/ImageLoader';\r\nimport Layout from '../../components/Layout';\r\nimport SEO from '../../components/SEO';\r\nimport * as style from './index.module.scss';\r\n\r\n\r\nconst ImageParser = () => {\r\n\tconst [image, setImage] = useState<Image>();\r\n\t\r\n\r\n\treturn (\r\n\t\t<Layout>\r\n\t\t\t<div\r\n\t\t\t\tclassName={style.div}\r\n\t\t\t>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<section>\r\n\t\t\t\t\t\t<ImageLoader\r\n\t\t\t\t\t\t\tonChange={(image: Image) => setImage(image)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</section>\r\n\t\t\t\t\t<section>\r\n\t\t\t\t\t\t{image?\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<span>Type</span>\r\n\t\t\t\t\t\t\t\t\t<span>{image.type}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<span>Width</span>\r\n\t\t\t\t\t\t\t\t\t<span>{image.width}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<span>Height</span>\r\n\t\t\t\t\t\t\t\t\t<span>{image.height}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\t\tvalue={image.dataUrl}\r\n\t\t\t\t\t\t\t\t\treadOnly\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={async () => downloadFile(await convertTypeOfImageFile(image.file, 'image/png'))}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tPNG\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tonClick={async () => downloadFile(await convertTypeOfImageFile(image.file, 'image/jpeg'))}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tJPG\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</>:\r\n\t\t\t\t\t\t\t<></>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</section>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Layout>\r\n\t);\r\n}\r\nexport default ImageParser;\r\n\r\n\r\nexport const Head: FC<PageProps> = ({ location }) => (\r\n\t<SEO\r\n\t\ttitle='Image Parser'\r\n\t\tpathname={location.pathname}\r\n\t/>\r\n)","// extracted by mini-css-extract-plugin\nexport var div = \"index-module--div--d0b9f\";"],"names":["show","transparent","_ref","width","height","onChange","refInput","useRef","refImage","isDragging","setDraggingState","useState","file","setFile","source","setSource","useEffect","async","getDataUrl","readFile","React","className","style","tabIndex","onDragEnter","onDragLeave","onDragOver","event","preventDefault","onDrop","dataTransfer","files","onKeyDown","ctrlKey","key","copyFile","onPaste","text","clipboardData","getData","isDataUrl","getFile","alert","ref","type","accept","fileList","target","length","src","onLoad","current","naturalWidth","naturalHeight","dataUrl","onClick","click","image","setImage","Layout","ImageLoader","value","readOnly","downloadFile","convertTypeOfImageFile","Head","location","SEO","title","pathname"],"sourceRoot":""}